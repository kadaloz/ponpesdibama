PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO migrations VALUES(1,'0001_01_01_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'0001_01_01_000001_create_cache_table',1);
INSERT INTO migrations VALUES(3,'0001_01_01_000002_create_jobs_table',1);
INSERT INTO migrations VALUES(4,'2025_06_22_101105_create_news_table',1);
INSERT INTO migrations VALUES(5,'2025_06_22_122743_create_settings_table',1);
INSERT INTO migrations VALUES(6,'2025_06_23_050057_create_permission_tables',1);
INSERT INTO migrations VALUES(7,'2025_06_23_090801_create_students_table',1);
INSERT INTO migrations VALUES(8,'2025_06_23_231920_create_programs_table',1);
INSERT INTO migrations VALUES(9,'2025_06_24_030702_create_applicants_table',1);
INSERT INTO migrations VALUES(10,'2025_06_24_030932_add_applicant_id_to_students_table',1);
INSERT INTO migrations VALUES(11,'2025_06_25_091452_add_type_to_students_table',1);
INSERT INTO migrations VALUES(12,'2025_06_26_103858_add_more_details_to_students_table',1);
INSERT INTO migrations VALUES(13,'2025_06_29_072453_create_galleries_table',1);
INSERT INTO migrations VALUES(14,'2025_06_29_072540_create_gallery_images_table',1);
INSERT INTO migrations VALUES(15,'2025_06_30_114012_add_photo_path_to_students_table',1);
INSERT INTO migrations VALUES(16,'2025_06_30_123342_create_teachers_table',1);
INSERT INTO migrations VALUES(17,'2025_07_01_051129_add_category_id_to_news_table',1);
INSERT INTO migrations VALUES(18,'2025_07_01_051129_create_categories_table',1);
INSERT INTO migrations VALUES(19,'2025_07_01_064328_create_halaqohs_table',1);
INSERT INTO migrations VALUES(20,'2025_07_01_064407_create_halaqoh_student_pivot_table',1);
INSERT INTO migrations VALUES(21,'2025_07_01_064510_create_halaqoh_schedules_table',1);
INSERT INTO migrations VALUES(22,'2025_07_01_113539_add_student_limit_to_halaqohs_table',1);
INSERT INTO migrations VALUES(23,'2025_07_01_124851_create_halaqoh_schedule_logs_table',1);
INSERT INTO migrations VALUES(24,'2025_07_02_075129_create_ppdb_requirements_table',1);
INSERT INTO migrations VALUES(25,'2025_07_02_091922_add_halaqoh_period_to_applicants_table',1);
INSERT INTO migrations VALUES(26,'2025_07_02_094615_add_ppdb_type_and_halaqoh_period_to_applicants_table',1);
INSERT INTO migrations VALUES(27,'2025_07_02_095418_add_document_fields_to_students_table',1);
INSERT INTO migrations VALUES(28,'2025_07_02_095644_remove_ppdb_type_from_applicants_table',1);
INSERT INTO migrations VALUES(29,'2025_07_02_100213_add_ppdb_fields_to_applicants_table',1);
INSERT INTO migrations VALUES(30,'2025_07_02_104602_add_halaqoh_period_to_students_table',1);
CREATE TABLE IF NOT EXISTS "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime);
INSERT INTO users VALUES(1,'Super Admin','admin@ponpesdibama.com',NULL,'$2y$12$ffOgvm11ldWquDTk83UTVeAB8orcU2BxKmzwSRUpQFL5f2jZeWDX2',NULL,'2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO users VALUES(2,'Sekretaris PPDB','sekret@ponpesdibama.com',NULL,'$2y$12$1XuNXJw5NuTBAy3fh1W1Z.p/Kz223c56nKsV6VhmJnGKRFerLUL6q',NULL,'2025-07-04 04:45:17','2025-07-04 04:45:17');
INSERT INTO users VALUES(3,'Mudabbir Umum','mudabbir@ponpesdibama.com',NULL,'$2y$12$DqYVBO3SPUAytyaHCIPTQOuFrdL/2QHJ3.y2klM7Hqb2W8cn7azqi',NULL,'2025-07-04 04:45:17','2025-07-04 04:45:17');
CREATE TABLE IF NOT EXISTS "password_reset_tokens" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"));
CREATE TABLE IF NOT EXISTS "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"));
CREATE TABLE IF NOT EXISTS "cache" ("key" varchar not null, "value" text not null, "expiration" integer not null, primary key ("key"));
INSERT INTO cache VALUES('laravel_cache_spatie.permission.cache','a:3:{s:5:"alias";a:4:{s:1:"a";s:2:"id";s:1:"b";s:4:"name";s:1:"c";s:10:"guard_name";s:1:"r";s:5:"roles";}s:11:"permissions";a:38:{i:0;a:4:{s:1:"a";i:1;s:1:"b";s:14:"view dashboard";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}i:1;a:4:{s:1:"a";i:2;s:1:"b";s:9:"view news";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:2;a:4:{s:1:"a";i:3;s:1:"b";s:11:"create news";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:3;a:4:{s:1:"a";i:4;s:1:"b";s:9:"edit news";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:4;a:4:{s:1:"a";i:5;s:1:"b";s:11:"delete news";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:5;a:4:{s:1:"a";i:6;s:1:"b";s:15:"manage settings";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:6;a:4:{s:1:"a";i:7;s:1:"b";s:13:"view students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:7;a:4:{s:1:"a";i:8;s:1:"b";s:15:"create students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:8;a:4:{s:1:"a";i:9;s:1:"b";s:13:"edit students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:9;a:4:{s:1:"a";i:10;s:1:"b";s:15:"delete students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:10;a:4:{s:1:"a";i:11;s:1:"b";s:15:"export students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:11;a:4:{s:1:"a";i:12;s:1:"b";s:15:"import students";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:12;a:4:{s:1:"a";i:13;s:1:"b";s:13:"view programs";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:13;a:4:{s:1:"a";i:14;s:1:"b";s:15:"create programs";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:14;a:4:{s:1:"a";i:15;s:1:"b";s:13:"edit programs";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:15;a:4:{s:1:"a";i:16;s:1:"b";s:15:"delete programs";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:16;a:4:{s:1:"a";i:17;s:1:"b";s:15:"view applicants";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:17;a:4:{s:1:"a";i:18;s:1:"b";s:15:"edit applicants";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:18;a:4:{s:1:"a";i:19;s:1:"b";s:17:"delete applicants";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:19;a:4:{s:1:"a";i:20;s:1:"b";s:22:"edit ppdb requirements";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:20;a:4:{s:1:"a";i:21;s:1:"b";s:12:"manage users";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:21;a:4:{s:1:"a";i:22;s:1:"b";s:12:"assign roles";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:22;a:4:{s:1:"a";i:23;s:1:"b";s:23:"view general management";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}i:23;a:4:{s:1:"a";i:24;s:1:"b";s:18:"manage own profile";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}i:24;a:4:{s:1:"a";i:25;s:1:"b";s:14:"view galleries";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:25;a:4:{s:1:"a";i:26;s:1:"b";s:16:"create galleries";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:26;a:4:{s:1:"a";i:27;s:1:"b";s:14:"edit galleries";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:27;a:4:{s:1:"a";i:28;s:1:"b";s:16:"delete galleries";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:28;a:4:{s:1:"a";i:29;s:1:"b";s:13:"view teachers";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:29;a:4:{s:1:"a";i:30;s:1:"b";s:15:"create teachers";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:30;a:4:{s:1:"a";i:31;s:1:"b";s:13:"edit teachers";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:31;a:4:{s:1:"a";i:32;s:1:"b";s:15:"delete teachers";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:3;}}i:32;a:4:{s:1:"a";i:33;s:1:"b";s:19:"assign teacher user";s:1:"c";s:3:"web";s:1:"r";a:1:{i:0;i:1;}}i:33;a:4:{s:1:"a";i:34;s:1:"b";s:13:"view halaqohs";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}i:34;a:4:{s:1:"a";i:35;s:1:"b";s:15:"create halaqohs";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:35;a:4:{s:1:"a";i:36;s:1:"b";s:13:"edit halaqohs";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}i:36;a:4:{s:1:"a";i:37;s:1:"b";s:15:"delete halaqohs";s:1:"c";s:3:"web";s:1:"r";a:2:{i:0;i:1;i:1;i:2;}}i:37;a:4:{s:1:"a";i:38;s:1:"b";s:26:"assign students to halaqoh";s:1:"c";s:3:"web";s:1:"r";a:3:{i:0;i:1;i:1;i:2;i:2;i:3;}}}s:5:"roles";a:3:{i:0;a:3:{s:1:"a";i:1;s:1:"b";s:5:"admin";s:1:"c";s:3:"web";}i:1;a:3:{s:1:"a";i:2;s:1:"b";s:6:"sekret";s:1:"c";s:3:"web";}i:2;a:3:{s:1:"a";i:3;s:1:"b";s:8:"mudabbir";s:1:"c";s:3:"web";}}}',1751692579);
CREATE TABLE IF NOT EXISTS "cache_locks" ("key" varchar not null, "owner" varchar not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "jobs" ("id" integer primary key autoincrement not null, "queue" varchar not null, "payload" text not null, "attempts" integer not null, "reserved_at" integer, "available_at" integer not null, "created_at" integer not null);
CREATE TABLE IF NOT EXISTS "job_batches" ("id" varchar not null, "name" varchar not null, "total_jobs" integer not null, "pending_jobs" integer not null, "failed_jobs" integer not null, "failed_job_ids" text not null, "options" text, "cancelled_at" integer, "created_at" integer not null, "finished_at" integer, primary key ("id"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS "settings" ("id" integer primary key autoincrement not null, "key" varchar not null, "value" text, "created_at" datetime, "updated_at" datetime);
INSERT INTO settings VALUES(1,'about_us_content','<p>Yayasan Pondok Pesantren Diniyah Baitul Makmur Aikmel didirikan dengan visi...</p>','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(2,'contact_address','Jl. Pendidikan No. 79, Aikmel Timur, Kecamatan Aikmel, Kabupaten Lombok Timur, Nusa Tenggara Barat, Indonesia','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(3,'contact_phone','+62 819-1657-7540','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(4,'contact_email','info@ponpesdibama.com','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(5,'mission_quote','"Membina santri menjadi pribadi yang bertakwa, cerdas, mandiri, dan berakhlakul karimah..."','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(6,'location_map_url',NULL,'2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(7,'is_ppdb_open','1','2025-07-04 05:02:54','2025-07-04 07:03:34');
INSERT INTO settings VALUES(8,'ppdb_academic_year','2025/2026','2025-07-04 05:02:54','2025-07-04 05:02:54');
INSERT INTO settings VALUES(9,'cta_enrollment_heading','Siapkan Masa Depan Gemilang Putra/Putri Anda Bersama Yayasan Ponpes DIBAMA!','2025-07-04 05:02:54','2025-07-04 05:02:54');
CREATE TABLE IF NOT EXISTS "permissions" ("id" integer primary key autoincrement not null, "name" varchar not null, "guard_name" varchar not null, "created_at" datetime, "updated_at" datetime);
INSERT INTO permissions VALUES(1,'view dashboard','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(2,'view news','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(3,'create news','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(4,'edit news','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(5,'delete news','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(6,'manage settings','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(7,'view students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(8,'create students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(9,'edit students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(10,'delete students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(11,'export students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(12,'import students','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(13,'view programs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(14,'create programs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(15,'edit programs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(16,'delete programs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(17,'view applicants','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(18,'edit applicants','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(19,'delete applicants','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(20,'edit ppdb requirements','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(21,'manage users','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(22,'assign roles','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(23,'view general management','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(24,'manage own profile','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(25,'view galleries','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(26,'create galleries','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(27,'edit galleries','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(28,'delete galleries','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(29,'view teachers','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(30,'create teachers','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(31,'edit teachers','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(32,'delete teachers','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(33,'assign teacher user','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(34,'view halaqohs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(35,'create halaqohs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(36,'edit halaqohs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(37,'delete halaqohs','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO permissions VALUES(38,'assign students to halaqoh','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
CREATE TABLE IF NOT EXISTS "roles" ("id" integer primary key autoincrement not null, "name" varchar not null, "guard_name" varchar not null, "created_at" datetime, "updated_at" datetime);
INSERT INTO roles VALUES(1,'admin','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO roles VALUES(2,'sekret','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
INSERT INTO roles VALUES(3,'mudabbir','web','2025-07-04 04:45:16','2025-07-04 04:45:16');
CREATE TABLE IF NOT EXISTS "model_has_permissions" ("permission_id" integer not null, "model_type" varchar not null, "model_id" integer not null, foreign key("permission_id") references "permissions"("id") on delete cascade, primary key ("permission_id", "model_id", "model_type"));
CREATE TABLE IF NOT EXISTS "model_has_roles" ("role_id" integer not null, "model_type" varchar not null, "model_id" integer not null, foreign key("role_id") references "roles"("id") on delete cascade, primary key ("role_id", "model_id", "model_type"));
INSERT INTO model_has_roles VALUES(1,'App\Models\User',1);
INSERT INTO model_has_roles VALUES(2,'App\Models\User',2);
INSERT INTO model_has_roles VALUES(3,'App\Models\User',3);
CREATE TABLE IF NOT EXISTS "role_has_permissions" ("permission_id" integer not null, "role_id" integer not null, foreign key("permission_id") references "permissions"("id") on delete cascade, foreign key("role_id") references "roles"("id") on delete cascade, primary key ("permission_id", "role_id"));
INSERT INTO role_has_permissions VALUES(1,1);
INSERT INTO role_has_permissions VALUES(2,1);
INSERT INTO role_has_permissions VALUES(3,1);
INSERT INTO role_has_permissions VALUES(4,1);
INSERT INTO role_has_permissions VALUES(5,1);
INSERT INTO role_has_permissions VALUES(6,1);
INSERT INTO role_has_permissions VALUES(7,1);
INSERT INTO role_has_permissions VALUES(8,1);
INSERT INTO role_has_permissions VALUES(9,1);
INSERT INTO role_has_permissions VALUES(10,1);
INSERT INTO role_has_permissions VALUES(11,1);
INSERT INTO role_has_permissions VALUES(12,1);
INSERT INTO role_has_permissions VALUES(13,1);
INSERT INTO role_has_permissions VALUES(14,1);
INSERT INTO role_has_permissions VALUES(15,1);
INSERT INTO role_has_permissions VALUES(16,1);
INSERT INTO role_has_permissions VALUES(17,1);
INSERT INTO role_has_permissions VALUES(18,1);
INSERT INTO role_has_permissions VALUES(19,1);
INSERT INTO role_has_permissions VALUES(20,1);
INSERT INTO role_has_permissions VALUES(21,1);
INSERT INTO role_has_permissions VALUES(22,1);
INSERT INTO role_has_permissions VALUES(23,1);
INSERT INTO role_has_permissions VALUES(24,1);
INSERT INTO role_has_permissions VALUES(25,1);
INSERT INTO role_has_permissions VALUES(26,1);
INSERT INTO role_has_permissions VALUES(27,1);
INSERT INTO role_has_permissions VALUES(28,1);
INSERT INTO role_has_permissions VALUES(29,1);
INSERT INTO role_has_permissions VALUES(30,1);
INSERT INTO role_has_permissions VALUES(31,1);
INSERT INTO role_has_permissions VALUES(32,1);
INSERT INTO role_has_permissions VALUES(33,1);
INSERT INTO role_has_permissions VALUES(34,1);
INSERT INTO role_has_permissions VALUES(35,1);
INSERT INTO role_has_permissions VALUES(36,1);
INSERT INTO role_has_permissions VALUES(37,1);
INSERT INTO role_has_permissions VALUES(38,1);
INSERT INTO role_has_permissions VALUES(1,2);
INSERT INTO role_has_permissions VALUES(2,2);
INSERT INTO role_has_permissions VALUES(3,2);
INSERT INTO role_has_permissions VALUES(4,2);
INSERT INTO role_has_permissions VALUES(5,2);
INSERT INTO role_has_permissions VALUES(17,2);
INSERT INTO role_has_permissions VALUES(18,2);
INSERT INTO role_has_permissions VALUES(19,2);
INSERT INTO role_has_permissions VALUES(23,2);
INSERT INTO role_has_permissions VALUES(24,2);
INSERT INTO role_has_permissions VALUES(34,2);
INSERT INTO role_has_permissions VALUES(35,2);
INSERT INTO role_has_permissions VALUES(36,2);
INSERT INTO role_has_permissions VALUES(37,2);
INSERT INTO role_has_permissions VALUES(38,2);
INSERT INTO role_has_permissions VALUES(20,2);
INSERT INTO role_has_permissions VALUES(1,3);
INSERT INTO role_has_permissions VALUES(7,3);
INSERT INTO role_has_permissions VALUES(8,3);
INSERT INTO role_has_permissions VALUES(9,3);
INSERT INTO role_has_permissions VALUES(10,3);
INSERT INTO role_has_permissions VALUES(11,3);
INSERT INTO role_has_permissions VALUES(12,3);
INSERT INTO role_has_permissions VALUES(23,3);
INSERT INTO role_has_permissions VALUES(24,3);
INSERT INTO role_has_permissions VALUES(29,3);
INSERT INTO role_has_permissions VALUES(30,3);
INSERT INTO role_has_permissions VALUES(31,3);
INSERT INTO role_has_permissions VALUES(32,3);
INSERT INTO role_has_permissions VALUES(34,3);
INSERT INTO role_has_permissions VALUES(36,3);
INSERT INTO role_has_permissions VALUES(38,3);
CREATE TABLE IF NOT EXISTS "programs" ("id" integer primary key autoincrement not null, "name" varchar not null, "slug" varchar not null, "description" text, "duration" varchar, "is_active" tinyint(1) not null default '1', "created_at" datetime, "updated_at" datetime);
INSERT INTO programs VALUES(1,'Program Tahfidz Al-Qur''an','program-tahfidz-al-quran','Fokus pada hafalan Al-Qur''an yang mutqin, dengan metode talaqqi dan murojaah intensif.','6 Tahun',1,'2025-07-04 05:17:05','2025-07-04 05:17:05');
INSERT INTO programs VALUES(2,'Madrasah Diniyah','madrasah-diniyah','Penguatan dasar-dasar ilmu agama seperti fiqh, tauhid, akhlaq, dan bahasa Arab.','3 Tahun',1,'2025-07-04 05:17:05','2025-07-04 05:17:05');
INSERT INTO programs VALUES(3,'Kajian Kitab Kuning','kajian-kitab-kuning','Pembelajaran kitab-kitab klasik ulama salaf, disampaikan oleh ustadz berpengalaman.','Berjalan Setiap Pekan',1,'2025-07-04 05:17:05','2025-07-04 05:17:05');
INSERT INTO programs VALUES(4,'Program Bahasa Arab Aktif','program-bahasa-arab-aktif','Membiasakan santri berbicara dan menulis dengan bahasa Arab melalui metode interaktif.','Setiap Semester',1,'2025-07-04 05:17:05','2025-07-04 05:17:05');
CREATE TABLE IF NOT EXISTS "applicants" ("id" integer primary key autoincrement not null, "registration_number" varchar, "full_name" varchar not null, "gender" varchar, "place_of_birth" varchar, "date_of_birth" date, "nisn" varchar, "last_education" varchar, "school_origin" varchar, "parent_name" varchar not null, "parent_phone" varchar not null, "parent_email" varchar, "parent_occupation" varchar, "address" varchar not null, "city" varchar, "province" varchar, "chosen_program" varchar, "document_akta_path" varchar, "document_kk_path" varchar, "document_ijazah_path" varchar, "document_photo_path" varchar, "status" varchar not null default 'pending', "admin_notes" text, "created_at" datetime, "updated_at" datetime, "halaqoh_period" varchar check ("halaqoh_period" in ('Sore', 'Malam')), "ppdb_type" varchar);
CREATE TABLE IF NOT EXISTS "students" ("id" integer primary key autoincrement not null, "nis" varchar, "name" varchar not null, "gender" varchar, "date_of_birth" date, "place_of_birth" varchar, "address" varchar, "parent_name" varchar, "parent_phone" varchar, "admission_year" varchar, "status" varchar not null default ('aktif'), "category" varchar, "created_at" datetime, "updated_at" datetime, "applicant_id" integer, "type" varchar, "nisn" varchar, "last_education" varchar, "school_origin" varchar, "parent_email" varchar, "parent_occupation" varchar, "city" varchar, "province" varchar, "photo_path" varchar, "document_akta_path" varchar, "document_kk_path" varchar, "document_ijazah_path" varchar, "document_photo_path" varchar, "halaqoh_period" varchar, foreign key("applicant_id") references "applicants"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "galleries" ("id" integer primary key autoincrement not null, "title" varchar not null, "slug" varchar not null, "description" text, "cover_image" varchar, "is_published" tinyint(1) not null default '0', "created_at" datetime, "updated_at" datetime);
CREATE TABLE IF NOT EXISTS "gallery_images" ("id" integer primary key autoincrement not null, "gallery_id" integer not null, "image_path" varchar not null, "caption" varchar, "order" integer not null default '0', "created_at" datetime, "updated_at" datetime, foreign key("gallery_id") references "galleries"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "teachers" ("id" integer primary key autoincrement not null, "nip" varchar, "full_name" varchar not null, "gender" varchar, "place_of_birth" varchar, "date_of_birth" date, "phone_number" varchar, "specialization" varchar, "join_date" date, "status" varchar check ("status" in ('active', 'inactive')) not null default 'active', "user_id" integer, "created_at" datetime, "updated_at" datetime, foreign key("user_id") references "users"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "news" ("id" integer primary key autoincrement not null, "title" varchar not null, "slug" varchar not null, "content" text not null, "image" varchar, "published_at" datetime, "created_at" datetime, "updated_at" datetime, "category_id" integer, foreign key("category_id") references "categories"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "categories" ("id" integer primary key autoincrement not null, "name" varchar not null, "slug" varchar not null, "created_at" datetime, "updated_at" datetime);
INSERT INTO categories VALUES(1,'Pengumuman','pengumuman','2025-07-04 04:45:17','2025-07-04 04:45:17');
INSERT INTO categories VALUES(2,'Kegiatan','kegiatan','2025-07-04 04:45:17','2025-07-04 04:45:17');
INSERT INTO categories VALUES(3,'Prestasi','prestasi','2025-07-04 04:45:17','2025-07-04 04:45:17');
INSERT INTO categories VALUES(4,'Umum','umum','2025-07-04 04:45:17','2025-07-04 04:45:17');
CREATE TABLE IF NOT EXISTS "halaqohs" ("id" integer primary key autoincrement not null, "name" varchar not null, "description" text, "teacher_id" integer, "start_date" date, "end_date" date, "status" varchar check ("status" in ('active', 'inactive', 'completed')) not null default 'active', "created_at" datetime, "updated_at" datetime, "student_limit" integer default '0', foreign key("teacher_id") references "teachers"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "halaqoh_student" ("halaqoh_id" integer not null, "student_id" integer not null, "join_date" date, "status" varchar check ("status" in ('active', 'inactive')) not null default 'active', "created_at" datetime, "updated_at" datetime, foreign key("halaqoh_id") references "halaqohs"("id") on delete cascade, foreign key("student_id") references "students"("id") on delete cascade, primary key ("halaqoh_id", "student_id"));
CREATE TABLE IF NOT EXISTS "halaqoh_schedules" ("id" integer primary key autoincrement not null, "halaqoh_id" integer not null, "day_of_week" varchar not null, "start_time" time not null, "end_time" time not null, "location" varchar, "created_at" datetime, "updated_at" datetime, foreign key("halaqoh_id") references "halaqohs"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "halaqoh_schedule_logs" ("id" integer primary key autoincrement not null, "halaqoh_id" integer not null, "schedule_id" integer, "action" varchar check ("action" in ('created', 'updated', 'deleted')) not null, "data_before" text, "data_after" text, "user_id" integer, "created_at" datetime, "updated_at" datetime, foreign key("halaqoh_id") references "halaqohs"("id") on delete cascade, foreign key("schedule_id") references "halaqoh_schedules"("id") on delete set null, foreign key("user_id") references "users"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "ppdb_requirements" ("id" integer primary key autoincrement not null, "content" text not null, "created_at" datetime, "updated_at" datetime);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('migrations',30);
INSERT INTO sqlite_sequence VALUES('students',0);
INSERT INTO sqlite_sequence VALUES('news',0);
INSERT INTO sqlite_sequence VALUES('permissions',38);
INSERT INTO sqlite_sequence VALUES('roles',3);
INSERT INTO sqlite_sequence VALUES('users',3);
INSERT INTO sqlite_sequence VALUES('categories',4);
INSERT INTO sqlite_sequence VALUES('settings',9);
INSERT INTO sqlite_sequence VALUES('programs',4);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id");
CREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity");
CREATE INDEX "jobs_queue_index" on "jobs" ("queue");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE UNIQUE INDEX "settings_key_unique" on "settings" ("key");
CREATE UNIQUE INDEX "permissions_name_guard_name_unique" on "permissions" ("name", "guard_name");
CREATE UNIQUE INDEX "roles_name_guard_name_unique" on "roles" ("name", "guard_name");
CREATE INDEX "model_has_permissions_model_id_model_type_index" on "model_has_permissions" ("model_id", "model_type");
CREATE INDEX "model_has_roles_model_id_model_type_index" on "model_has_roles" ("model_id", "model_type");
CREATE UNIQUE INDEX "programs_slug_unique" on "programs" ("slug");
CREATE UNIQUE INDEX "applicants_registration_number_unique" on "applicants" ("registration_number");
CREATE UNIQUE INDEX "students_nis_unique" on "students" ("nis");
CREATE UNIQUE INDEX "students_applicant_id_unique" on "students" ("applicant_id");
CREATE UNIQUE INDEX "galleries_slug_unique" on "galleries" ("slug");
CREATE UNIQUE INDEX "teachers_nip_unique" on "teachers" ("nip");
CREATE UNIQUE INDEX "teachers_user_id_unique" on "teachers" ("user_id");
CREATE UNIQUE INDEX "news_slug_unique" on "news" ("slug");
CREATE UNIQUE INDEX "categories_slug_unique" on "categories" ("slug");
COMMIT;
